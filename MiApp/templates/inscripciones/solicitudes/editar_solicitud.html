{% extends 'base.html' %}
{% block title %} 
Editar Solicitud
{% endblock %}
{% load static %}
{% block head %}
    <link href="{% static 'inscripciones/botones.css' %}" rel="stylesheet">
    <link href="{% static 'inscripciones/solicitudes/fixformulario.css' %}" rel="stylesheet">
{% endblock %}

{% load crispy_forms_tags %}
{% block content %}

<div class="container mt-5">
    <a href="{% url 'lista_solicitudes' %}" class="botonVolver"><i class="fa-solid fa-arrow-left"></i> Volver</a>
    <h1 class="text-center">Modificar Datos de Solicitud</h1>
    <hr>

    <!-- Mostrar mensajes si existen (de éxito o error) -->
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}

    <!-- Formulario de edición de solicitud -->
    <form method="post" action="" autocomplete="off">
        {% csrf_token %}
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h4>Datos Personales</h4>
            </div>
            <div class="card-body">
                <div class="row">
                    <!-- Columna 1 -->
                    <div class="col-md-6">
                        {{ form.nombre|as_crispy_field }}
                        {{ form.apellido|as_crispy_field }}
                        <div class="espaciado">
                            <label for="fecha_nac" class="form-label">Fecha de Nacimiento:*</label>
                            <input type="date" class="form-control" id="fecha_nac" name="fecha_nac" value="{{ form.fecha_nac.value|date:'Y-m-d' }}">
                        </div>
                        {{ form.provincia|as_crispy_field }}
                        {{ form.dni|as_crispy_field }}
                        {{ form.edad|as_crispy_field }}
                        {{ form.domicilio|as_crispy_field }}
                        {{ form.telefono_fijo|as_crispy_field }}
                        {{ form.celular_nro|as_crispy_field }}
                        {{ form.email|as_crispy_field }}
                        {{ form.estado_civil|as_crispy_field }}
                        <a href="#" class="text-primary" style="text-decoration: underline;" onclick="borrarSeleccion('estado_civil')">Borrar selección</a>
                    </div>
                    <!-- Columna 2 -->
                    <div class="col-md-6">
                        <div class="espaciado">
                            {{ form.hijos|as_crispy_field }}
                            <a href="#" class="text-primary" style="text-decoration: underline;" onclick="borrarSeleccion('hijos')">Borrar selección</a>
                        </div>
                        {{ form.lugar_trabajo|as_crispy_field }}
                        {{ form.tel_emergencia|as_crispy_field }}
                        {{ form.col_egreso|as_crispy_field }}
                        {{ form.titulo|as_crispy_field }}
                        {{ form.otro_titulo|as_crispy_field }}
                        {{ form.anio_egreso|as_crispy_field }}
                        <div class="espaciado">
                            {{ form.preg_1|as_crispy_field }}
                            <a href="#" class="text-primary" style="text-decoration: underline;" onclick="borrarSeleccion('preg_1')">Borrar selección</a>
                        </div>
                        {{ form.resp_1|as_crispy_field }}
                        <div class="espaciado">
                            {{ form.resp_2|as_crispy_field }}
                            <a href="#" class="text-primary" style="text-decoration: underline;" onclick="borrarSeleccion('resp_2')">Borrar selección</a>
                        </div>
                        {{ form.preg_2|as_crispy_field }}
                    </div>
                </div>
            </div>
        </div>

        <!-- Botón de guardar cambios -->
        <div class="d-flex justify-content-end">
            <a href="{% url 'lista_solicitudes' %}" class="botonVolver"><i class="fa-solid fa-arrow-left"></i> Volver</a>
            <button type="submit" class=" botonVer"><i class="fa-solid fa-floppy-disk"></i> Guardar Cambios</button>
        </div>
        <br>
    </form>
</div>

{% endblock content %}

{% block javascript %}
<script type="text/javascript">
    function borrarSeleccion(nameGrupoRadio) {
        // Obtiene todos los elementos del grupo de radio por el atributo 'name'
        var radios = document.getElementsByName(nameGrupoRadio);
        radios.forEach(function(radio) {
            radio.checked = false;  // Desmarca todas las opciones del grupo
        });
    }
</script>
{% endblock javascript %}
