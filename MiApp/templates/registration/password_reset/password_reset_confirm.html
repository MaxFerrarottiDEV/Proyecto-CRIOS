<!DOCTYPE html>
{% load static %}
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Restablecer Contraseña</title>
    <link rel="icon" href="{% static 'icons/crios_logo.png' %}" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="{% static 'registration/login-style.css' %}" rel="stylesheet">
</head>
<body>
    <div class="form-container">
        <h2>Restablecer Contraseña</h2>
        <p>Ingrese su nueva contraseña.</p>

        <!-- Mostrar mensajes de error si existen -->
        {% if form.errors %}
            <div class="error-message" style="color: red;">
                {% for field in form %}
                    {% for error in field.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                {% endfor %}
            </div>
        {% endif %}

        <form method="post">
            {% csrf_token %}
            
            <!-- Personalizar campos del formulario en español -->
            <label for="id_new_password1">Nueva contraseña:</label>
            <input type="password" name="new_password1" id="id_new_password1" required>

            <label for="id_new_password2">Confirmar nueva contraseña:</label>
            <input type="password" name="new_password2" id="id_new_password2" required>
            <small>Ingrese la misma contraseña para verificación.</small>

            <br><br>
            <button type="submit">Restablecer</button>
        </form>         
    </div>

    <!-- JavaScript para ocultar el mensaje de error después de 3 segundos -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var errorMessage = document.querySelector('.error-message');
            if (errorMessage) {
                setTimeout(function() {
                    errorMessage.style.display = 'none';
                }, 3000); // 3 segundos
            }
        });
    </script>
</body>
</html>
